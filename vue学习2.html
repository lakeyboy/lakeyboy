<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>axios的使用</title>
    <!-- axios是基于ajax -->
    <!-- 先导入 才可以使用 -->
</head>
<!-- scscsc -->

<body>
    <input type="button" value="get请求" class="get">
    <input type="button" value="post请求" class="post">

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <!-- get和post的使用 -->
    <script>
        // get方法地址和参数用？分割，then()中有两个参数，成功执行前一个，失败执行后一个
        document.querySelector(".get").onclick = function () {
            axios.get("https://autumnfish.cn/api/joke/list?num=6")
                .then(function (response) {
                    console.log(response)
                },
                    function (err) {
                        console.log(err)
                    }
                )
        }

        //返回结果和上面类似，只是内容被修改了
        // post请求，地址和参数用 , 分开，其中第二个参数对象的形式 { }
        document.querySelector(".post").onclick = async function () {
            const { data: res } = await axios.post("https://autumnfish.cn/api/user/reg", { username: "玛丽" })
            // .then(
            //     function (res) {
            //         console.log(res)
            //     },
            //     function (err) {
            //         console.log(
            //             err
            //         )
            //     }
            // )
            console.log(res)
        }
    </script>
</body>

</html>